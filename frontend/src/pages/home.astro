---
import Layout from "../layouts/Layout.astro";
---

<Layout public>
  <Fragment slot="head">
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Fraunces:opsz,wght@9..144,600&family=Space+Grotesk:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
  </Fragment>

  <main class="flex flex-1 flex-col items-center justify-center px-5 pb-14 pt-10 sm:px-8">
    <div class="flex max-w-md flex-col items-center gap-6 text-center">
      <h1 id="greeting" class="font-['Fraunces'] text-3xl sm:text-4xl lg:text-5xl">
        Welcome
      </h1>
      <p class="text-base text-[#5e4b41]">
        Plan your next trip day or check how your activities rank.
      </p>
      <div class="flex gap-4">
        <a
          href="/constraints"
          class="rounded-full bg-[#2b2623] px-6 py-2.5 text-sm font-medium text-white transition hover:bg-[#3d3330]"
        >
          Plan a Day
        </a>
      </div>
    </div>
  </main>

  <script>
    import { getUser } from "../scripts/auth";

    const greeting = document.getElementById("greeting");
    const user = getUser();
    if (greeting && user) {
      const firstName = user.name.split(" ")[0];
      greeting.textContent = `Welcome back, ${firstName}`;
    }
  </script>
</Layout>
