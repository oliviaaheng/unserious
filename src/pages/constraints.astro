---
import "flatpickr/dist/themes/airbnb.css";
import Layout from "../layouts/Layout.astro";
import PageHeader from "../components/PageHeader.astro";
import DatePickerField from "../components/DatePickerField.astro";
import InputField from "../components/InputField.astro";
import TextAreaField from "../components/TextAreaField.astro";
import PrimaryButton from "../components/PrimaryButton.astro";
---

<Layout>
  <Fragment slot="head">
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Fraunces:opsz,wght@9..144,600&family=Space+Grotesk:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
  </Fragment>

  <main class="min-h-screen px-5 pb-14 pt-10 sm:px-8 lg:px-14">
    <div class="mx-auto flex max-w-4xl flex-col gap-8">
      <PageHeader
        label="Plan Your Day"
        title="Share the constraints that matter"
        description="We will shape a trip day around your timing, location, and must-haves without overloading you with options."
      />

      <section class="overflow-hidden rounded-3xl border border-white/60 bg-white/80 p-6 shadow-[0_30px_80px_-50px_rgba(53,36,24,0.7)] backdrop-blur sm:p-8">
        <form class="flex flex-col gap-6" aria-label="Trip constraints form">
          <DatePickerField
            id="constraint-date"
            name="constraint-date"
            label="Which day should we plan?"
            hint="Pick a single day to keep the itinerary focused."
          />

          <div class="grid min-w-0 grid-cols-1 gap-4 sm:grid-cols-2">
            <InputField
              id="constraint-location"
              name="constraint-location"
              label="City, Country"
              placeholder="Lisbon, Portugal"
              autocomplete="address-level2"
            />
            <div class="sm:col-span-2">
              <InputField
                id="constraint-stay"
                name="constraint-stay"
                label="Current accommodation address"
                placeholder="Rua da Madalena 120, Alfama"
                autocomplete="street-address"
              />
            </div>
          </div>

          <TextAreaField
            id="constraint-notes"
            name="constraint-notes"
            label="Anything else we should weave in?"
            placeholder="Tell us how the day should feel, or any must-haves."
            hint="Examples: early start, relaxed afternoon, dietary restrictions, usual meal times, food preferences, accessibility needs."
            rows={5}
          />

          <div class="flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between">
            <p class="text-xs font-medium uppercase tracking-[0.3em] text-[#9a8578]">
              We'll match your pace.
            </p>
            <PrimaryButton type="submit" label="Find Activities" />
          </div>
        </form>
      </section>
    </div>
  </main>

  <script>
    import flatpickr from "flatpickr";

    flatpickr("[data-date-picker]", {
      altInput: true,
      altFormat: "F j, Y",
      dateFormat: "Y-m-d",
    });
  </script>
</Layout>
